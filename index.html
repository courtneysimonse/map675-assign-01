<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />

    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
    />

    <title>HTML5 Template</title>

    <style>
      /* CSS rules here */
      /* select both the body and the map */
      body,
      #map {
        position: absolute;
        width: 100%;
        top: 0;
        bottom: 0;
        margin: 0;
        padding: 0;
        background: rgba(0, 0, 0, 0.75);
      }
      .tooltip {
        color: white;
        background: #295b97;
        border: 0;
        font-size: 1.3em;
      }
    </style>
  </head>

  <body>

    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.2.1.min.js"
      integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
      crossorigin="anonymous"
    ></script>
    <script>
      // JavaScript goes here
      const options = {
        center: [52, 4.9],
        zoom: 7,
        minZoom: 6,
        maxZoom: 16
        // maxBounds: [[33.911, -84.032], [33.62, -84.772]]
      };
      const map = L.map("map", options);

      // L.tileLayer(
      //   "https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png",
      //   {
      //     attribution:
      //       '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
      //     subdomains: "abcd",
      //     maxZoom: 19
      //   }
      // ).addTo(map);

      $.when(
        $.getJSON("data/stations.json"),
        $.getJSON("data/landgrens.json"),
        $.getJSON("data/kustlijn.json"),
        $.getJSON("data/gemeentegrens.json"),
        $.getJSON("data/provinciegrens.json"),
        $.getJSON("data/Spoorwegen.json")
      ).done(function(
        stationsData,
        landData,
        coastlineData,
        borderData,
        provinceData,
        railwaysData
      ) {
        //  note that we can access the GeoJSON data here
        // console.log(stationsData);
        L.geoJson(stationsData).addTo(map);
        L.geoJson(landData).addTo(map);
        L.geoJson(coastlineData).addTo(map);
        L.geoJson(borderData).addTo(map);
        L.geoJson(provinceData).addTo(map);
        L.geoJson(railwaysData).addTo(map);

        // const urbanOptions = {
        //   color: "#295b97",
        //   weight: 0
        // };
        //
        // const cityLimitsOptions = {
        //   fillOpacity: 0,
        //   color: "#040d18",
        //   opacity: 1,
        //   weight: 3
        // };
        //
        // const neighborhoodOptions = {
        //   fillOpacity: 0.3,
        //   fillColor: "#e0ecf9",
        //   color: "#151f2b",
        //   weight: 1.7,
        //   opacity: 1
        // };
        //
        // const subwayOptions = {
        //   color: "#ff6e00",
        //   weight: 2,
        //   opacity: 1
        // };
        //
        // const busOptions = {
        //   color: "#f0f062",
        //   weight: 0.1,
        //   opacity: 1
        // };
        //
        // const tramOptions = {
        //   color: "#ff6e00",
        //   weight: 2
        // };
        //
        // const otherRoutes = {
        //   color: "#ff6e00"
        // };
        //
        // L.geoJson(urbanAreasData, {
        //   style: urbanOptions
        // }).addTo(map);
        //
        // L.geoJson(cityLimitsData, {
        //   style: cityLimitsOptions
        // }).addTo(map);
        //
        // L.geoJson(neighborhoodsData, {
        //   style: neighborhoodOptions,
        //   onEachFeature: function(feature, layer) {
        //     // shortut to variable
        //     let tooltip = feature.properties.NAME;
        //     // bind the tooltip to the layer
        //     layer.bindTooltip(tooltip, {
        //       sticky: true,
        //       className: "tooltip"
        //     });
        //     // visual affordance on mouseover
        //     layer.on("mouseover", function(e) {
        //       this.setStyle({
        //         fillOpacity: 0.1
        //       });
        //     });
        //     // use existing option to reset the styles on mouseout
        //     layer.on("mouseout", function(e) {
        //       this.setStyle(neighborhoodOptions);
        //     });
        //   }
        // }).addTo(map);
        //
        // L.geoJson(transitRoutesData, {
        //   // style each feature
        //   style: function(feature) {
        //     // shortcut to variable
        //     let type = feature.properties.rte_type;
        //
        //     // assign options
        //     return type === "subway, metro"
        //       ? subwayOptions
        //       : type === "bus"
        //       ? busOptions
        //       : type === "tram, light rail, streetcar"
        //       ? tramOptions
        //       : otherRoutes;
        //   }
        // }).addTo(map);

        map.createPane("labels");
        map.getPane("labels").style.zIndex = 650;
        map.getPane("labels").style.pointerEvents = "none";

        L.tileLayer(
          "https://{s}.basemaps.cartocdn.com/dark_only_labels/{z}/{x}/{y}{r}.png",
          {
            attribution: "©OpenStreetMap, ©CartoDB",
            pane: "labels"
          }
        ).addTo(map);

      });

    </script>
  </body>
</html>
